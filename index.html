<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nave - Cobrás con Nave, tu negocio vuela</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <img src="Nave.jpg" alt="Nave Logo">
            </div>
            <nav class="nav-menu">
                <a href="#" class="nav-item">Cobros</a>
                <span class="nav-separator">|</span>
                <a href="#" class="nav-item">Beneficios</a>
            </nav>
            <div class="header-buttons">
                <button class="btn-outline" id="login-button">Login</button>
                <button class="btn-outline">Espacio Nave</button>
                <button class="btn-primary">Entrar a Nave</button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <main class="main-content">
        <section class="hero-section">
            <div class="hero-card">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1 class="hero-title">Cobrás con Nave, tu negocio vuela</h1>
                        <p class="hero-description">Un ecosistema que acompaña desde el despegue, hasta el vuelo y el aterrizaje seguro.</p>
                        <button class="btn-hero">Soy Galicia y quiero tener Nave</button>
                    </div>
                    <div class="hero-image">
                        <div class="hero-image-wrapper">
                            <div class="hero-background-logo"></div>
                            <div class="hero-person-placeholder">
                                <img src="landing.png" alt="Landing Nave" class="hero-landing-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Carousel Controls -->
            <div class="carousel-controls">
                <button class="carousel-arrow left">←</button>
                <div class="carousel-dots">
                    <span class="dot"></span>
                    <span class="dot active"></span>
                    <span class="dot"></span>
                </div>
                <button class="carousel-arrow right">→</button>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section">
            <h2 class="features-title">Te damos la bienvenida al vuelo de tu negocio</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 8C20.5523 8 21 8.44772 21 9V19C21 19.5523 20.5523 20 20 20C19.4477 20 19 19.5523 19 19V9C19 8.44772 19.4477 8 20 8Z" fill="#6B46C1"/>
                            <path d="M20 24C20.5523 24 21 24.4477 21 25V31C21 31.5523 20.5523 32 20 32C19.4477 32 19 31.5523 19 31V25C19 24.4477 19.4477 24 20 24Z" fill="#6B46C1"/>
                            <circle cx="20" cy="20" r="12" stroke="#6B46C1" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Viajá liviano de</h3>
                    <p class="feature-text">Comisiones competitivas que te permiten crecer sin preocupaciones.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="10" y="10" width="20" height="20" rx="2" stroke="#6B46C1" stroke-width="2" fill="none"/>
                            <path d="M15 20L18 23L25 16" stroke="#6B46C1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Promociones que se</h3>
                    <p class="feature-text">Ofertas exclusivas para hacer crecer tu negocio día a día.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="6" y="26" width="6" height="8" fill="#6B46C1"/>
                            <rect x="17" y="18" width="6" height="16" fill="#6B46C1"/>
                            <rect x="28" y="12" width="6" height="22" fill="#6B46C1"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Todo el control desde la</h3>
                    <p class="feature-text">Panel intuitivo para gestionar todos tus cobros en un solo lugar.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Chatbot Widget -->
    <div id="chatbot-widget" class="chatbot-hidden">
        <script
          src="https://cdn.jsdelivr.net/gh/debmedia/numiajb-widget@1.0.11/dist/build/static/js/bundle.min.js">
        </script>

        <journey-builder-chat
            window_title="Nave - Agente FAQs"
            flow_id="75e9329b-d7bb-4497-8e95-43641bef94f8"
            host_url="https://api.journeybuilder.numia.co"
            api_key="sk-IkUi6pYmvGJ3nWDhYCKfZVrRxnT3QsIAfQHBLu6SFMw"
            chat_position="top-right">
        </journey-builder-chat>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="login-modal" aria-hidden="true">
        <div class="login-card">
            <div class="login-header">
                <h3>Iniciar sesión</h3>
                <button type="button" class="login-close" id="login-close">×</button>
            </div>
            <form id="login-form">
                <label class="login-label" for="login-email">Email</label>
                <input id="login-email" type="email" required>
                <label class="login-label" for="login-password">Contraseña</label>
                <input id="login-password" type="password" required>
                <div class="login-error" id="login-error"></div>
                <button type="submit" class="login-submit">Ingresar</button>
            </form>
        </div>
    </div>

    <!-- Login Success Modal -->
    <div class="login-success-modal" id="login-success-modal" aria-hidden="true">
        <div class="login-success-card">
            <div class="login-success-header">
                <h3>Acceso correcto</h3>
                <button type="button" class="login-close" id="login-success-close">×</button>
            </div>
            <p class="login-success-text">¡Bienvenido/a! Ya podés usar el asistente.</p>
            <button type="button" class="login-success-btn" id="login-success-ok">Continuar</button>
        </div>
    </div>

    <style>
        #chatbot-widget {
            position: fixed;
            left: 16px;
            bottom: 24px;
            z-index: 9999;
        }
        #chatbot-widget journey-builder-chat {
            display: block;
        }
        .chatbot-hidden {
            display: none;
        }
        .hero-landing-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 16px;
            box-shadow: 0 16px 40px rgba(107, 70, 193, 0.25);
        }
        .login-modal {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        .login-modal.is-open {
            display: flex;
        }
        .login-card {
            width: 320px;
            max-width: calc(100vw - 32px);
            background: #ffffff;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
        }
        .login-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .login-header h3 {
            margin: 0;
            font-size: 18px;
        }
        .login-close {
            background: transparent;
            border: none;
            font-size: 22px;
            cursor: pointer;
        }
        .login-label {
            display: block;
            font-size: 13px;
            margin: 8px 0 4px;
        }
        #login-form input {
            width: 100%;
            border: 1px solid #cbd5f5;
            border-radius: 8px;
            padding: 8px 10px;
            font-size: 14px;
        }
        .login-submit {
            width: 100%;
            margin-top: 12px;
            background: #6B46C1;
            color: #ffffff;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
        }
        .login-error {
            color: #b91c1c;
            font-size: 12px;
            margin-top: 6px;
            min-height: 16px;
        }
        .login-success-modal {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10001;
        }
        .login-success-modal.is-open {
            display: flex;
        }
        .login-success-card {
            width: 320px;
            max-width: calc(100vw - 32px);
            background: #ffffff;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        .login-success-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .login-success-header h3 {
            margin: 0;
            font-size: 18px;
        }
        .login-success-text {
            margin: 8px 0 16px;
            font-size: 14px;
            color: #1f2937;
        }
        .login-success-btn {
            width: 100%;
            background: #6B46C1;
            color: #ffffff;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
        }
    </style>

    <script>
        const chatbotWidget = document.getElementById('chatbot-widget');
        const loginButton = document.getElementById('login-button');
        const loginModal = document.getElementById('login-modal');
        const loginClose = document.getElementById('login-close');
        const loginForm = document.getElementById('login-form');
        const loginEmail = document.getElementById('login-email');
        const loginPassword = document.getElementById('login-password');
        const loginError = document.getElementById('login-error');
        const loginSuccessModal = document.getElementById('login-success-modal');
        const loginSuccessClose = document.getElementById('login-success-close');
        const loginSuccessOk = document.getElementById('login-success-ok');

        const sessionId = localStorage.getItem('chatbot_session_id') || `user_${Date.now()}`;
        localStorage.setItem('chatbot_session_id', sessionId);

        const allowedUsers = [
            { email: 'mfcanto@numia.co', password: 'MF$Canto2025' },
            { email: 'ecorona@numia.co', password: 'E$Corona2025' }
        ];

        const isLoggedIn = () => localStorage.getItem('chatbot_logged_in') === 'true';
        const setLoggedIn = (value) => localStorage.setItem('chatbot_logged_in', value ? 'true' : 'false');
        const updateWidgetVisibility = () => {
            if (isLoggedIn()) {
                chatbotWidget.classList.remove('chatbot-hidden');
                loginButton.style.display = 'none';
            } else {
                chatbotWidget.classList.add('chatbot-hidden');
                loginButton.style.display = '';
            }
        };

        setLoggedIn(false);
        updateWidgetVisibility();

        loginButton.addEventListener('click', () => {
            loginError.textContent = '';
            loginEmail.value = '';
            loginPassword.value = '';
            loginModal.classList.add('is-open');
            loginModal.setAttribute('aria-hidden', 'false');
        });

        loginClose.addEventListener('click', () => {
            loginModal.classList.remove('is-open');
            loginModal.setAttribute('aria-hidden', 'true');
        });

        loginModal.addEventListener('click', (event) => {
            if (event.target === loginModal) {
                loginModal.classList.remove('is-open');
                loginModal.setAttribute('aria-hidden', 'true');
            }
        });

        const closeSuccessModal = () => {
            loginSuccessModal.classList.remove('is-open');
            loginSuccessModal.setAttribute('aria-hidden', 'true');
        };

        loginSuccessClose.addEventListener('click', closeSuccessModal);
        loginSuccessOk.addEventListener('click', closeSuccessModal);
        loginSuccessModal.addEventListener('click', (event) => {
            if (event.target === loginSuccessModal) {
                closeSuccessModal();
            }
        });

        loginForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const email = loginEmail.value.trim().toLowerCase();
            const password = loginPassword.value;
            const isAllowed = allowedUsers.some(
                (user) => user.email === email && user.password === password
            );

            if (!isAllowed) {
                loginError.textContent = 'Credenciales inválidas.';
                return;
            }

            setLoggedIn(true);
            updateWidgetVisibility();
            loginModal.classList.remove('is-open');
            loginModal.setAttribute('aria-hidden', 'true');
            loginSuccessModal.classList.add('is-open');
            loginSuccessModal.setAttribute('aria-hidden', 'false');
        });
    </script>
</body>
</html>
